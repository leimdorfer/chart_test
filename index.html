
<html>
    <head>
        <!-- Display World Service languages e.g. Arabic -->
        <meta charset="utf-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>IDT - Responsive</title>

        <!-- Variable dependencies -->
        <script>
            window.bbcNewsResponsive = true;
            window.cutsTheMustard = true;
        </script>

         <!--orb.ws.require.lib--> <script class="js-require-lib" src="https://static.bbc.co.uk/frameworks/requirejs/lib.js"></script> <script type="text/javascript">  bbcRequireMap = {"jquery-1":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.7.2", "jquery-1.4":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.4", "jquery-1.9":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.9.1", "jquery-1.12":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.12.0.min", "jquery-2.2":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-2.2.0.min", "istats-1":"//nav.files.bbci.co.uk/nav-analytics/0.1.0-43/js/istats-1", "swfobject-2":"https://static.bbc.co.uk/frameworks/swfobject/0.1.10/sharedmodules/swfobject-2", "demi-1":"https://static.bbc.co.uk/frameworks/demi/0.10.0/sharedmodules/demi-1", "gelui-1":"https://static.bbc.co.uk/frameworks/gelui/0.9.13/sharedmodules/gelui-1", "cssp!gelui-1/overlay":"https://static.bbc.co.uk/frameworks/gelui/0.9.13/sharedmodules/gelui-1/overlay.css", "relay-1":"https://static.bbc.co.uk/frameworks/relay/0.2.6/sharedmodules/relay-1", "clock-1":"https://static.bbc.co.uk/frameworks/clock/0.1.9/sharedmodules/clock-1", "canvas-clock-1":"https://static.bbc.co.uk/frameworks/clock/0.1.9/sharedmodules/canvas-clock-1", "cssp!clock-1":"https://static.bbc.co.uk/frameworks/clock/0.1.9/sharedmodules/clock-1.css", "jssignals-1":"https://static.bbc.co.uk/frameworks/jssignals/0.3.6/modules/jssignals-1", "jcarousel-1":"https://static.bbc.co.uk/frameworks/jcarousel/0.1.10/modules/jcarousel-1", "bump-3":"//emp.bbci.co.uk/emp/bump-3/bump-3"}; require({ baseUrl: 'https://static.bbc.co.uk/', paths: bbcRequireMap, waitSeconds: 30 }); </script>  
        <!-- Replicate look & feel of ORB -->
        <style>
            body {
                margin: 8px 32px;
                font-family: Helmet,Freesans,Helvetica,Arial,sans-serif;
                font-size: 110%;
                line-height: 1.142857142857143;
                font-weight: normal;
            }
        </style>
        <script>
            window.istats = {
              enabled: true
            }
            window.bbcFlagpoles_istats = "ON";
            window.istatsTrackingUrl = '//sa.bbc.co.uk/bbc/bbc/s?name=newsindep-test-page&cps_asset_id=0000&page_type=story';
            document.write('<' + 'p style="position: absolute; top: -999em;"><' + 'img src="' + window.istatsTrackingUrl + '" height="1" width="1" alt="" /><' + '/p>');
            require.config({
                paths: {
                    'istats-1': '//static.bbc.co.uk/frameworks/istats/0.25.1/modules/istats-1'
                }
            });

            require(['istats-1'], function (istats) {
                if (!istats) {
                    define('istats-1', function mockIStatsObject() {
                        return {
                            log: function () {}
                        }
                    });
                }
            });
        </script>
    </head>
    <body>
        <script>
            if (window.cutsTheMustard) {
                document.body.className += " ns-responsive";
            }
        </script>

        <!-- Dependencies -->
        <div id="blq-container-outer">
            <div id="blq-container">
<script>
define('vjCutsTheMustard', function cutsTheMustard() {
    return (
        document.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1') &&
        'querySelector' in document &&
        'localStorage' in window &&
        'addEventListener' in window
    );
});
</script>
 <div id="bbc-news-vj-iframe-content-placeholder"></div>
 <div id="ns_chart_" class="main">
     <div class="chart-container">
         <div class="chart">
             <div class="chart__title"></div>
             <div class="chart__subtitle"></div>
             <div class="chart__legend chart__legend--top"></div>
             <div class="chart__holder">
                 <canvas id="chart__canvas" class="chart__canvas">
                 </canvas>
             </div>
             <div class="chart__legend chart__legend--bottom"></div>
             <div class="chart__footer">
                 <div class="chart__source"></div>
                 <div class="chart__logo"></div>
             </div>
         </div>
     </div>
     <div class="table"></div>
  </div>
  <div id="csspHack"></div>
  <script type="text/javascript">

          require.config({
              paths: {
                  'pym': '//static.bbc.co.uk/indepthtoolkit/10.2.1.140/js/vendor/bower/pym.js/dist/pym.min',
                  'jquery-1': '//static.bbc.co.uk/indepthtoolkit/10.2.1.140/js/vendor/jquery-1.7.2'
              }
          });

          require(['vjCutsTheMustard', '//static.bbc.co.uk/indepthtoolkit/10.2.1.140/js/charts/compiled/all.js'], function (cutsTheMustard) {

              if (cutsTheMustard) {
                  var requiredModules = ['app', 'cssp!//static.bbc.co.uk/indepthtoolkit/10.2.1.140/css/charts/main.css?csspHack'];

                  
                  
                  require(requiredModules, function (app, cssp, pym, iframeWrapper) {


                                            var appPymChild = typeof pymChild !== 'undefined' ? pymChild : null;

                          app.init({
                              data:                   [["Force","Recorded hate crimes"],["Met Police London",3356],["Greater Manchester",1033],["West Yorkshire",1013],["West Midlands",923],["British Transport Police",633],["Merseyside",477],["Hampshire",463],["Avon &amp; Somerset",449],["Northumbria",394],["Sussex",385]],
                              chartOptions:           {"mainOptions":{"selectedChart":"cjs-horizontal-bar","title":"Forces with most hate crimes","subTitle":"July-September 2016","sourceName":"Source: Press Association \/ Home Office data","service":"news","sourceLink":"","chart-size":624,"animation":true},"chartSpecificOptions":{"colourPaletteSelection":"#660000,#cc0000,#eb9999","scaleShowVerticalLines":true,"barDatasetSpacing":1,"barShowStroke":false,"barStrokeWidth":2,"barValueSpacing":25,"datasetLimit":3,"fillColor":"#024d4e,#009898,#9fcdcc","highlightFill":"#024d4e,#009898,#9fcdcc","highlightStroke":"rgba(238,21,68,0.9)","legendLabels":"Dataset 1","legendTemplate":"legendTemplateSquareInline","legendTemplateLineBlock":"<ul class='<%=name.toLowerCase()%>-legend line-legend-list legendChartJs'><% for (var i=0; i<datasets.length; i++){%><li><div class='line-legend-list__lines' style='background-color:<%=datasets[i].fillColor%>;'><\/div><%if(datasets[i].label){%><%=datasets[i].label%><%}%><\/li><%}%><\/ul>","legendTemplateLineInline":"<ul class='<%=name.toLowerCase()%>-legend line-legend-list--inline legendChartJs'><% for (var i=0; i<datasets.length; i++){%><li><div class='line-legend-list__lines' style='background-color:<%=datasets[i].fillColor%>;'><\/div><%if(datasets[i].label){%><%=datasets[i].label%><%}%><\/li><%}%><\/ul>","legendTemplateSquareBlock":"<ul class='<%=name.toLowerCase()%>-legend line-legend-list legendChartJs'><% for (var i=0; i<datasets.length; i++){%><li><div class='line-legend-list__squares' style='background-color:<%=datasets[i].fillColor%>;'><\/div><%if(datasets[i].label){%><%=datasets[i].label%><%}%><\/li><%}%><\/ul>","legendTemplateSquareInline":"<ul class='<%=name.toLowerCase()%>-legend line-legend-list--inline legendChartJs'><% for (var i=0; i<datasets.length; i++){%><li><div class='line-legend-list__squares' style='background-color:<%=datasets[i].fillColor%>;'><\/div><%if(datasets[i].label){%><%=datasets[i].label%><%}%><\/li><%}%><\/ul>","scaleBeginAtZero":true,"scaleGridLineColor":"rgb(226, 226, 226)","scaleGridLineWidth":1,"scaleIntegersOnly":true,"scaleLabel":"<%=value%>","scaleLineColor":"rgb(237, 237, 237)","scaleLineWidth":1,"scaleMaxBarWidthWhen2Bars":48,"scaleMinBarWidth":16,"scaleOverride":false,"scaleShowGridLines":true,"scaleShowHorizontalLines":false,"scaleShowLabels":true,"scaleStartValue":0,"scaleStepWidth":20,"scaleSteps":10,"showScale":true,"showXLabels":0,"strokeColor":"#024d4e,#009898,#9fcdcc","animateRotate":true,"animateScale":false,"animationEasing":"easeOutBounce","animationSteps":100,"chartTheme":"default","doughnutChart":false,"groupOnCol":true,"legendAlignment":"left","legendPosition":"top","scaleFontColor":"#333","scaleFontFamily":"'Helmet', 'Freesans', 'Helvetica', 'Arial', 'sans-serif'","scaleFontSize":16,"scaleFontStyle":"normal","scaleUseCommas":true,"segmentColors":"#007F7F,#006B6B,#025757,#014242,#012D2D","segmentHighlight":"#007F7F,#006B6B,#025757,#014242,#012D2D","segmentShowStroke":true,"segmentStrokeColor":"#fff","segmentStrokeWidth":2,"selectedThemeColors":[],"showLegend":true,"showLogo":true,"showTooltips":true,"tooltipFontColor":"#fff","tooltipFontFamily":"'Helmet', 'Freesans', 'Helvetica', 'Arial', 'sans-serif'","tooltipFontSize":16,"tooltipFontStyle":"normal","tooltipTemplate":"<%if (label){%><%=label%>: <%}%><%= value %>","tooltipTitleFontColor":"#fff","tooltipTitleFontFamily":"'Helmet', 'Freesans', 'Helvetica', 'Arial', 'sans-serif'","tooltipTitleFontSize":16,"tooltipTitleFontStyle":"bold"},"chartType":"chart-js:horizontalbar:render"},
                              requestComesFromIframe: false,
                              staticPrefix:           '//static.bbc.co.uk/indepthtoolkit/10.2.1.140',
                              iframeWrapper:          iframeWrapper,
                              appPymChild:            appPymChild
                          });

                          
                  
                  });

              } else {
                  document.body.innerHTML = '<p>This content is optimised for modern web browsers, and does not fully support your browser version.</p>';
              }
          });
 </script>
  <html>
    <head>
        <!-- Display World Service languages e.g. Arabic -->
        <meta charset="utf-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>IDT - Responsive</title>

        <!-- Variable dependencies -->
        <script>
            window.bbcNewsResponsive = true;
            window.cutsTheMustard = true;
        </script>

         <!--orb.ws.require.lib--> <script class="js-require-lib" src="https://static.bbc.co.uk/frameworks/requirejs/lib.js"></script> <script type="text/javascript">  bbcRequireMap = {"jquery-1":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.7.2", "jquery-1.4":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.4", "jquery-1.9":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.9.1", "jquery-1.12":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-1.12.0.min", "jquery-2.2":"https://static.bbc.co.uk/frameworks/jquery/0.4.1/sharedmodules/jquery-2.2.0.min", "istats-1":"//nav.files.bbci.co.uk/nav-analytics/0.1.0-43/js/istats-1", "swfobject-2":"https://static.bbc.co.uk/frameworks/swfobject/0.1.10/sharedmodules/swfobject-2", "demi-1":"https://static.bbc.co.uk/frameworks/demi/0.10.0/sharedmodules/demi-1", "gelui-1":"https://static.bbc.co.uk/frameworks/gelui/0.9.13/sharedmodules/gelui-1", "cssp!gelui-1/overlay":"https://static.bbc.co.uk/frameworks/gelui/0.9.13/sharedmodules/gelui-1/overlay.css", "relay-1":"https://static.bbc.co.uk/frameworks/relay/0.2.6/sharedmodules/relay-1", "clock-1":"https://static.bbc.co.uk/frameworks/clock/0.1.9/sharedmodules/clock-1", "canvas-clock-1":"https://static.bbc.co.uk/frameworks/clock/0.1.9/sharedmodules/canvas-clock-1", "cssp!clock-1":"https://static.bbc.co.uk/frameworks/clock/0.1.9/sharedmodules/clock-1.css", "jssignals-1":"https://static.bbc.co.uk/frameworks/jssignals/0.3.6/modules/jssignals-1", "jcarousel-1":"https://static.bbc.co.uk/frameworks/jcarousel/0.1.10/modules/jcarousel-1", "bump-3":"//emp.bbci.co.uk/emp/bump-3/bump-3"}; require({ baseUrl: 'https://static.bbc.co.uk/', paths: bbcRequireMap, waitSeconds: 30 }); </script>  
        <!-- Replicate look & feel of ORB -->
        <style>
            body {
                margin: 8px 32px;
                font-family: Helmet,Freesans,Helvetica,Arial,sans-serif;
                font-size: 110%;
                line-height: 1.142857142857143;
                font-weight: normal;
            }
        </style>
        <script>
            window.istats = {
              enabled: true
            }
            window.bbcFlagpoles_istats = "ON";
            window.istatsTrackingUrl = '//sa.bbc.co.uk/bbc/bbc/s?name=newsindep-test-page&cps_asset_id=0000&page_type=story';
            document.write('<' + 'p style="position: absolute; top: -999em;"><' + 'img src="' + window.istatsTrackingUrl + '" height="1" width="1" alt="" /><' + '/p>');
            require.config({
                paths: {
                    'istats-1': '//static.bbc.co.uk/frameworks/istats/0.25.1/modules/istats-1'
                }
            });

            require(['istats-1'], function (istats) {
                if (!istats) {
                    define('istats-1', function mockIStatsObject() {
                        return {
                            log: function () {}
                        }
                    });
                }
            });
        </script>
    </head>
    <body>

<h1>Chart test 1: Responsive IDT bar chart</h1>

        <script>
            if (window.cutsTheMustard) {
                document.body.className += " ns-responsive";
            }
        </script>

        <!-- Dependencies -->
        <div id="blq-container-outer">
            <div id="blq-container">
<script type="text/javascript">
require(["jquery-1", "istats-1"], function ($, istats) {
  $(function () {
    
    var monitorScrolling = function (ev) {
      if (isElementInViewport(document.getElementById('ns_chart_'))) {
        istats.log(
          "idt-content",
          "chart-entered-view",
          {
            "project" : "",
            "page"    : window.location.href
          });
        window.clearInterval(intervalID);
      }
    };
    
    var isElementInViewport = function (el) {
      var rect = el.getBoundingClientRect();

      return (
        rect.top >= 0 &&
        rect.left >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
    };

    var intervalID = window.setInterval(monitorScrolling, 500);
    monitorScrolling();
    
  });
});
</script>

            </div>
        </div>
    </body>
</html>
            </div>
        </div>
    </body>
</html>